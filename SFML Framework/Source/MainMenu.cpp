////////////////////////////////////////////////////////////////////////////////
// Filename: MainMenu.cpp
// Author:   Tobias Savinainen
// Year:     2013
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Header files
////////////////////////////////////////////////////////////////////////////////
#include "MainMenu.hpp"
#include <SFML/Graphics/RenderWindow.hpp>
#include <SFML/Window/Event.hpp>

////////////////////////////////////////////////////////////////////////////////
MainMenu::MainMenu(sf::RenderWindow& renderWindow, sfx::ResourceManager& rm, sfx::GameSettings& gs, sfx::StateManager& sm) :
    State (renderWindow, rm, gs, sm, "MainMenu")
{
}

////////////////////////////////////////////////////////////////////////////////
bool MainMenu::onExecute()
{
    onEvent();
    onUpdate();
    onRender();

    return m_renderWindow.isOpen();
}

////////////////////////////////////////////////////////////////////////////////
void MainMenu::onEvent()
{
    sf::Event event;
    while(m_renderWindow.pollEvent(event))
    {
        if(event.type == sf::Event::Closed)
            m_renderWindow.close();

        if(event.type == sf::Event::KeyPressed)
        {
            if(event.key.code == sf::Keyboard::Escape)
                m_renderWindow.close();
        }
    }
}

////////////////////////////////////////////////////////////////////////////////
void MainMenu::onUpdate()
{
}

////////////////////////////////////////////////////////////////////////////////
void MainMenu::onRender()
{
    m_renderWindow.clear();
    
    m_renderWindow.display();
}

////////////////////////////////////////////////////////////////////////////////
void MainMenu::onPause()
{
}

////////////////////////////////////////////////////////////////////////////////
void MainMenu::onResume()
{
}

////////////////////////////////////////////////////////////////////////////////
void MainMenu::onRestart()
{
}