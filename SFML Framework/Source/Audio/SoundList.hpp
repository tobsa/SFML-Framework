////////////////////////////////////////////////////////////////////////////////
// Filename: SoundList.hpp
// Author:   Tobias Savinainen
// Year:     2013
////////////////////////////////////////////////////////////////////////////////
#ifndef SOUND_LIST_HPP
#define SOUND_LIST_HPP

////////////////////////////////////////////////////////////////////////////////
// Header files
////////////////////////////////////////////////////////////////////////////////
#include "../Containers/Vector.hpp"
#include <SFML/Audio/Sound.hpp>
#include <map>

namespace sfx
{

////////////////////////////////////////////////////////////////////////////////
// A list of sounds that can be played in order or randomly
////////////////////////////////////////////////////////////////////////////////
class SoundList 
{
private:

    ////////////////////////////////////////////////////////////////////////////////
    // Private typedefs
    ////////////////////////////////////////////////////////////////////////////////
    typedef sfx::Vector<sf::Sound> Sounds;

public:

    ////////////////////////////////////////////////////////////////////////////////
    // Public enums
    ////////////////////////////////////////////////////////////////////////////////
    enum Order { Linear, Random };

    ////////////////////////////////////////////////////////////////////////////////
    // Create a sound list
    ////////////////////////////////////////////////////////////////////////////////
    SoundList(Order order = Linear);

    ////////////////////////////////////////////////////////////////////////////////
    // Add sound to the list
    ////////////////////////////////////////////////////////////////////////////////
    void addSound(const sf::Sound& sound);

    ////////////////////////////////////////////////////////////////////////////////
    // Set the sound list
    ////////////////////////////////////////////////////////////////////////////////
    void setSoundList(const Sounds& sounds);

    ////////////////////////////////////////////////////////////////////////////////
    // Play, pause or stop the sound list
    ////////////////////////////////////////////////////////////////////////////////
    void play();
    void pause();
    void stop();

    ////////////////////////////////////////////////////////////////////////////////
    // Update the sound list
    ////////////////////////////////////////////////////////////////////////////////
    void onUpdate();

    ////////////////////////////////////////////////////////////////////////////////
    // Set new order
    ////////////////////////////////////////////////////////////////////////////////
    void setOrder(Order order);

private:

    ////////////////////////////////////////////////////////////////////////////////
    // Private member data
    ////////////////////////////////////////////////////////////////////////////////
    Sounds      m_sounds;
    Order       m_order;
    std::size_t m_index;
    bool        m_playing;
};

} // namespace sfx

#endif