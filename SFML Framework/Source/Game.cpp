////////////////////////////////////////////////////////////////////////////////
// Filename: Game.cpp
// Author:   Tobias Savinainen
// Year:     2013
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Header files
////////////////////////////////////////////////////////////////////////////////
#include "Game.hpp"
#include "Application.hpp"
#include <SFML/Window/Event.hpp>

////////////////////////////////////////////////////////////////////////////////
Game::Game(sfx::Application& application) :
    State (application, "Game")
{
}

////////////////////////////////////////////////////////////////////////////////
bool Game::onExecute()
{
    onEvent();
    onUpdate();
    onRender();

    return m_application.isOpen();
}

////////////////////////////////////////////////////////////////////////////////
void Game::onEvent()
{
    sf::Event event;
    while(m_application.pollEvent(event))
    {
        if(event.type == sf::Event::Closed)
            m_application.close();

        if(event.type == sf::Event::KeyPressed)
        {
            if(event.key.code == sf::Keyboard::Escape)
                m_application.close();
        }
    }
}

////////////////////////////////////////////////////////////////////////////////
void Game::onUpdate()
{
    
}

////////////////////////////////////////////////////////////////////////////////
void Game::onRender()
{
    m_application.clear();
    m_application.display();
}

////////////////////////////////////////////////////////////////////////////////
void Game::onPause()
{
}

////////////////////////////////////////////////////////////////////////////////
void Game::onResume()
{
}

////////////////////////////////////////////////////////////////////////////////
void Game::onRestart()
{
}